# ============================================
# Otogaleri Backend - Environment Variables
# ============================================
# Copy this file to .env and fill in your values (especially secrets below).
# NEVER commit .env file to version control!

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=5005
LOG_LEVEL=info

# ============================================
# Database Configuration
# ============================================
OTG_DB_HOST=127.0.0.1
OTG_DB_PORT=3306
OTG_DB_USER=root
OTG_DB_PASSWORD=
OTG_DB_NAME=otogaleri
# CloudPanel/Localhost olduğu için SSL kapalı
DB_SSL_ENABLED=false
DB_SSL_CA=/path/to/ca-cert.pem
DB_SSL_REJECT_UNAUTHORIZED=true

# Database Connection Pool (Production optimization)
DB_POOL_LIMIT=50
DB_QUEUE_LIMIT=0

# ============================================
# JWT Authentication
# ============================================
# CRITICAL: Use a strong secret in production (e.g. openssl rand -base64 32)
JWT_SECRET=your-jwt-secret-min-32-chars

# ============================================
# External API Configuration
# ============================================
FREECURRENCY_API_BASE=https://api.freecurrencyapi.com/v1
FREECURRENCY_API_KEY=your-freecurrency-api-key

# ============================================
# AWS S3 Storage Configuration
# ============================================
# Set STORAGE_PROVIDER=s3 to use S3; "local" for local disk
STORAGE_PROVIDER=s3

# AWS S3 Credentials (required for S3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# S3: Bucket and Region (eu-north-1 = Europe Stockholm)
AWS_REGION=eu-north-1
AWS_S3_BUCKET=akilligaleri-photos-prod

# S3-Compatible (MinIO, etc.) – leave empty for AWS
AWS_S3_ENDPOINT=
AWS_S3_FORCE_PATH_STYLE=false

# CDN base URL (e.g. CloudFront) – optional; leave empty to use S3/signed URLs
AWS_S3_BASE_URL=
AWS_S3_SIGNED_URL_EXPIRES=3600
AWS_CLOUDFRONT_DISTRIBUTION_ID=

# ============================================
# Email Configuration (SMTP / MAIL) – optional
# ============================================
# SMTP_* veya MAIL_* kullanılabilir (ikisi de desteklenir)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@otogaleri.com

# AWS SES Sandbox: tüm mailleri tek adrese yönlendir (test modu)
# MAIL_SANDBOX_OVERRIDE_TO=nerdyreptile@gmail.com

# Development: mail göndermeden sadece konsola yaz (SMTP gerekmez)
# MAIL_DEV_LOG_ONLY=true

# Şifre sıfırlama linki için frontend URL (reset-password sayfası)
FRONTEND_URL=http://localhost:5173

# ============================================
# Subdomain / CORS
# ============================================
ALLOWED_SUBDOMAINS=localhost,127.0.0.1
ALLOWED_ORIGINS=https://galeri.calenius.io,http://galeri.calenius.io

# ============================================
# Security Webhook (optional)
# ============================================
SECURITY_WEBHOOK_SLACK_URL=
SECURITY_WEBHOOK_DISCORD_URL=
SECURITY_WEBHOOK_ENABLED=false

# ============================================
# Rate Limiting (optional)
# ============================================
RATE_LIMIT_AUTH_MAX=100
RATE_LIMIT_UPLOAD_MAX=10
RATE_LIMIT_SEARCH_MAX=30
RATE_LIMIT_REPORT_MAX=5
RATE_LIMIT_GENERAL_MAX=100
